$size: 100px;
$half: $size / 2;

.animate-penrosetriangle-container {
  position: relative;
  width: 100%;
  min-height: 100%;
  overflow: hidden;
}

.animate-penrosetriangle-platform {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  margin: auto;
  width: $size * 5;
  height: $size * 5;
  transform: rotateX(54.75deg) rotateZ(45deg) translateX($size * 2);
  transform-style: preserve-3d;
}

.animate-penrosetriangle-cube {
  position: absolute;
  width: $size;
  height: $size;
  background: hsl(200, 40%, 40%);
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.3);
  right: 0;
  bottom: 0;
  transform: translateZ($size);
  transform-style: preserve-3d;

  &:before,
  &:after {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background: inherit;
    box-shadow: inherit;
  }

  &:before {
    transform-origin: 100% 0;
    transform: rotateY(-90deg);
  }

  &:after {
    transform-origin: 100% 0;
    transform: rotateX(-90deg) translateZ($size);
  }

  // Cube positions
  &:nth-child(2) { right: $size * 1.5; }
  &:nth-child(3) { right: $size * 3; }
  &:nth-child(4) { right: $size * 4.5; }
  &:nth-child(5) { transform: translateZ($size * 2.5); }
  &:nth-child(6) { transform: translateZ($size * 4); }
  &:nth-child(7) { transform: translateZ($size * 5.5); }
  &:nth-child(8) {
    right: $size * 4.5;
    bottom: $size * 1.5;
  }
  &:nth-child(9) {
    right: $size * 4.5;
    bottom: $size * 3;
  }
  &:nth-child(10) {
    bottom: -$size * 1.5;
    transform: translateZ($size * 5.5);
    &:after { opacity: 0; }
  }
}
